<!DOCTYPE html>
<html lang="ko">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta charset="UTF-8">
	<title>문서 제목</title>
	<link rel="stylesheet" href="../css/reset.css">
	<script src="../js/jquery-3.1.1.min.js"></script>
	<style type="text/css">
		body{background-color:skyblue;}
		.st0{
			fill:none;
			stroke:#000;
			stroke-miterlimit:10;
			stroke-dasharray:120;
			stroke-dashoffset:120;
			stroke-linecap: round; 
		}

		@keyframes lineAni{
			to{stroke-dashoffset:0;}
    }

    .svgWrap.animate .st0{
    	animation:lineAni 1s forwards linear;
    }

		
	</style>
	<script>
		$(function(){
			var path = $(".svgWrap path").get(0);
			var total_length = path.getTotalLength();
			console.log(total_length);
			$(window).scroll(function(){
				var scrollTop = $(this).scrollTop();
				var sScroll = 200;
				var eScroll = 600;
				var x;
				
				x = ((scrollTop-sScroll)*(0-total_length))/(eScroll-sScroll)+total_length;
				console.log("스트롤톱:"+scrollTop+"엑스값:"+x);

				if(x>total_length){x=total_length}
			  if(x<0){x=0}

				$(".st0").css("stroke-dashoffset",x);
			});
		}); 
	</script>
</head>
<body>
	<div style="height: 1000px;"></div>
  <div class="svgWrap">
  	<svg id="Layer_1" x="0px" y="0px" width="500px" height="500px" viewBox="0 0 100 100">
  	  <path class="st0" d="M5.867,5.599c0,0,38.978-1.745,31.566,42.38 c-7.411,44.126,24.292,36.398,29.233,38.642"/>
  	</svg>
  </div>
  <div style="height: 500px;"></div>
</body>
</html>